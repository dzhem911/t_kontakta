{% extends "core/base.html" %}
{% load crispy_forms_tags %}


{% block title %} Главная Т-Контакта {% endblock %}

{% block content %}

<div>
    <h3>Подобрать колёса</h3>
    <form method="GET" action=".">
        <div class="form-row">
            <div class="form-group col-md-2 col-lg-2">
                <label for="category">Категория</label>
                <select id="category" class="custom-select" name="category">
                    <option>
                        Выбрать
                    </option>
                    {% for option in categories %}
                    <option value="{{option.name}}">
                        {{ option.name }}
                    </option>
                  {% endfor %}
                </select>
            </div>

            <div class="form-group col-md-2 col-lg-2">
                 <label for="producer">Бренд</label>
                 <select id="producer" class="custom-select" name="producer">
                    <option>
                        Выбрать
                    </option>
                    {% for option in uniq_producer %}
                    <option value="{{option.producer}}">
                        {{ option.producer }}
                    </option>
                  {% endfor %}
                 </select>
            </div>

            <div class="form-group col-md-2 col-lg-2">
                 <label for="tire_model">Модель</label>
                 <select id="tire_model" class="custom-select" name="tire_model">
                    <option>
                        Выбрать
                    </option>
                    {% for option in uniq_tire_model %}
                    <option value="{{option.tire_model}}">
                        {{ option.tire_model }}
                    </option>
                  {% endfor %}
                 </select>
            </div>

            <div class="form-group col-md-2 col-lg-2">
                 <label for="radius">Радиус</label>
                 <select id="radius" class="custom-select" name="radius">
                    <option>
                        Выбрать
                    </option>
                    {% for option in uniq_radius %}
                    <option value="{{option.radius}}">
                        {{ option.radius }}
                    </option>
                  {% endfor %}
                 </select>
            </div>
        </div>

            <div class="form-row">
                <div class="form-group col-md-2 col-lg-2">
                 <label for="status">Состояние</label>
                 <select id="status" class="custom-select" name="status">
                    <option>
                        Выбрать
                    </option>
                    {% for option in uniq_status %}
                    <option value="{{option.status}}">
                        {{ option.status }}
                    </option>
                  {% endfor %}
                 </select>
            </div>

            <div class="form-group col-md-2 col-lg-2">
                 <label for="profile">Профиль</label>
                <input type="number" class="form-control" id="profile" name="profile">
            </div>

            <div class="form-group col-md-2 col-lg-2">
                 <label for="profile">Ширина</label>
                <input type="number" class="form-control" id="profile" name="profile">
            </div>

            <div class="form-group col-md-2 col-lg-2">
                 <label for="profile">Сезонность</label>
                <input type="number" class="form-control" id="profile" name="profile">
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary">Search</button>
    </form>
</div>




<div class="row">
{% for product in page_obj %}
<div class="col-md-4">
     <a href="{{ product.get_absolute_url }}" class="stretched-link">
         {{ product.producer }} - {{ product.tire_model }}

    </br>

    {% for photo in product.photos_name.all %}
    <img src="{{ photo.photo.url }}">
    {% endfor %}
    <br>
         Радиус - {{ product.radius }}
    <br>
         {% if product.status <= 0 %}
            Новые
            {% else %}
            % износа - {{ product.status }}
         {% endif %}
     <br>
    Цена - {{ product.price }}
    <br>
    В наличии - {{ product.stock }} шт.
    </a>

</div>
{% endfor %}


</div>
<nav aria-label="page navigation" id="pagination">
  <ul class="pagination justify-content-center">
    {% if page_obj.has_previous %}
    <li class="page-item">
      <a class="page-link" href="?page={{ page_obj.previous_page_number }}" tabindex="-1" aria-disabled="true">Previous</a>
    </li>
    <li class="page-item" aria-current="page">
      <a class="page-link" href="?page={{ page_obj.previous_page_number }}">{{ page_obj.previous_page_number }}</a>
    </li>
    {% endif %}
    {% if page_obj.number %}
    <li class="page-item active" aria-current="page">
      <a class="page-link" href="?page={{ page_obj.number }}">{{ page_obj.number }}</a>
    </li>
    {% endif %}
    {% if page_obj.has_next %}
    <li class="page-item" aria-current="page">
      <a class="page-link" href="?page={{ page_obj.next_page_number }}">{{ page_obj.next_page_number }}</a>
    </li>
    <li class="page-item">
      <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
    </li>
    {% endif %}
  </ul>
</nav>
{% endblock %}